# Water Treatment Controller - Backend Environment Variables
# Copy this file to .env and configure for your environment

# =============================================================================
# Database Configuration
# =============================================================================
# Priority order (first match wins):
# 1. DATABASE_URL - Full connection URL (Docker/production standard)
# 2. WTC_DATABASE_URL - Full connection URL (explicit override)
# 3. WTC_DB_HOST + components - Constructs PostgreSQL URL
# 4. WTC_DB_PATH - SQLite file path (development fallback)

# Option 1: Full database URL (recommended for production)
# DATABASE_URL=postgresql://wtc:password@localhost:5432/water_treatment

# Option 2: SQLite for local development (default if nothing else set)
WTC_DB_PATH=/var/lib/water-controller/wtc.db

# Option 3: PostgreSQL from components (if WTC_DB_HOST is set)
# WTC_DB_HOST=localhost
# WTC_DB_PORT=5432
# WTC_DB_USER=wtc
# WTC_DB_PASSWORD=your-password
# WTC_DB_NAME=water_treatment

# Echo SQL queries to log (for debugging)
WTC_DB_ECHO=false

# Auto-initialize database on startup
WTC_DB_AUTO_INIT=1

# =============================================================================
# Logging Configuration
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
WTC_LOG_LEVEL=INFO

# Enable structured JSON logging (for log aggregation)
WTC_LOG_STRUCTURED=false

# =============================================================================
# CORS Configuration
# =============================================================================

# Comma-separated list of allowed origins for CORS
# Production example: https://scada.example.com,https://backup.example.com
# Leave empty for development (defaults to localhost:8080)
WTC_CORS_ORIGINS=

# =============================================================================
# Security Configuration
# =============================================================================

# JWT secret key (generate with: openssl rand -hex 32)
# REQUIRED for production - do not use default!
# WTC_JWT_SECRET=your-secret-key-here

# JWT token expiration in minutes
# WTC_JWT_EXPIRATION_MINUTES=60

# =============================================================================
# PROFINET Configuration
# =============================================================================

# Network interface for PROFINET communication
# WTC_PROFINET_INTERFACE=eth0

# PROFINET controller station name
# WTC_PROFINET_STATION_NAME=water-controller

# =============================================================================
# IPC Configuration (Communication with C controller)
# =============================================================================

# Shared memory path
# WTC_SHM_PATH=/dev/shm/wtc_ipc

# IPC socket path
# WTC_IPC_SOCKET=/var/run/water-controller/ipc.sock
