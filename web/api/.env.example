# Water Treatment Controller - Backend Environment Variables
# Copy this file to .env and configure for your environment

# =============================================================================
# Database Configuration
# =============================================================================
# Priority order (first match wins):
# 1. DATABASE_URL - Full connection URL (Docker/production standard)
# 2. WTC_DATABASE_URL - Full connection URL (explicit override)
# 3. WTC_DB_HOST + components - Constructs PostgreSQL URL
# 4. WTC_DB_PATH - SQLite file path (development fallback)

# Option 1: Full database URL (recommended for production)
# DATABASE_URL=postgresql://wtc:password@localhost:5432/water_treatment

# Option 2: SQLite for local development (default if nothing else set)
WTC_DB_PATH=/var/lib/water-controller/wtc.db

# Option 3: PostgreSQL from components (if WTC_DB_HOST is set)
# WTC_DB_HOST=localhost
# WTC_DB_PORT=5432
# WTC_DB_USER=wtc
# WTC_DB_PASSWORD=your-password
# WTC_DB_NAME=water_treatment

# Echo SQL queries to log (for debugging)
WTC_DB_ECHO=false

# Auto-initialize database on startup
WTC_DB_AUTO_INIT=1

# =============================================================================
# Logging Configuration
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
WTC_LOG_LEVEL=INFO

# Enable structured JSON logging (for log aggregation)
WTC_LOG_STRUCTURED=false

# =============================================================================
# CORS Configuration
# =============================================================================

# Comma-separated list of allowed origins for CORS
# Production example: https://scada.example.com,https://backup.example.com
# Leave empty for development (defaults to localhost:8080)
WTC_CORS_ORIGINS=

# =============================================================================
# IPC Configuration (Communication with C controller)
# =============================================================================

# Shared memory name for PROFINET controller IPC
WTC_SHM_NAME=/wtc_shared_memory

# =============================================================================
# Startup Validation
# =============================================================================

# Startup mode: production (strict validation - industrial SCADA default)
WTC_STARTUP_MODE=production

# Skip UI asset validation (for API-only containers)
WTC_API_ONLY=false

# Skip IPC validation (for testing without controller)
WTC_SIMULATION_MODE=false

# Debug mode (enables additional logging)
WTC_DEBUG=false
