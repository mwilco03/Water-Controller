# ============================================================================
# Water Treatment Controller - Centralized Port Configuration
# ============================================================================
#
# SINGLE SOURCE OF TRUTH for all network ports used by the system.
#
# Usage:
#   Shell scripts:  source /opt/water-controller/config/ports.env
#   Docker:         env_file: config/ports.env
#   SystemD:        EnvironmentFile=/opt/water-controller/config/ports.env
#   Next.js:        Loaded via dotenv in next.config.js
#   Python:         os.environ.get('WTC_API_PORT', '8000')
#
# DO NOT hardcode these values anywhere else in the codebase.
# Always reference this file or use the environment variables it defines.
# ============================================================================

# -----------------------------------------------------------------------------
# API Server (FastAPI)
# -----------------------------------------------------------------------------
# The REST API and WebSocket server port
WTC_API_PORT=8000

# Full API URL for external access (used by UI to reach backend)
WTC_API_URL=http://localhost:${WTC_API_PORT}

# -----------------------------------------------------------------------------
# HMI / Web UI (Next.js)
# -----------------------------------------------------------------------------
# The web interface port
WTC_UI_PORT=8080

# Full UI URL
WTC_UI_URL=http://localhost:${WTC_UI_PORT}

# HTTPS port (if TLS enabled)
WTC_UI_HTTPS_PORT=8443

# -----------------------------------------------------------------------------
# Docker-specific ports (container internal)
# -----------------------------------------------------------------------------
# When running in Docker, the container listens on 3000 internally
# but is mapped to WTC_UI_PORT externally
WTC_DOCKER_UI_INTERNAL_PORT=3000

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
WTC_DB_PORT=5432

# Full database connection URL template
# Actual credentials should be in a separate secrets file
WTC_DB_HOST=localhost

# -----------------------------------------------------------------------------
# Industrial Protocol Ports
# -----------------------------------------------------------------------------
# PROFINET UDP discovery port (standard: 34964)
WTC_PROFINET_UDP_PORT=34964

# PROFINET TCP ports (standard: 34962-34963)
WTC_PROFINET_TCP_PORT_START=34962
WTC_PROFINET_TCP_PORT_END=34963

# Modbus TCP port (standard: 502, but we use 1502 to avoid root)
WTC_MODBUS_TCP_PORT=1502

# -----------------------------------------------------------------------------
# Monitoring & Logging
# -----------------------------------------------------------------------------
# Graylog GELF input port
WTC_GRAYLOG_PORT=12201

# Redis cache port (if used)
WTC_REDIS_PORT=6379

# Grafana dashboard port
WTC_GRAFANA_PORT=3000

# -----------------------------------------------------------------------------
# Derived URLs (for convenience)
# -----------------------------------------------------------------------------
# API documentation
WTC_API_DOCS_URL=${WTC_API_URL}/api/docs

# API health endpoint
WTC_API_HEALTH_URL=${WTC_API_URL}/health

# WebSocket endpoint
WTC_WS_URL=ws://localhost:${WTC_API_PORT}/api/v1/ws/live
